(this.webpackJsonpnbd=this.webpackJsonpnbd||[]).push([[0],{77:function(e,t,a){e.exports=a(86)},82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),i=a.n(o),u=(a(82),a(33)),l=a(8),c=a(9),s=a(11),d=a(10),h=a(12),f=a(29),m=(a(84),a(4)),p=a(32),g=a(30),v=a(31),b=a.n(v),w=(a(85),p.a.extend(g.a)),y=function(e,t){return function(a){for(var n=a[0],r=a[1],o=Math.pow(r/(r+t),n),i=e[1]?Math.log(o)*e[1]:0,u=2;u<e.length;u++)o=o*t*(n+u-2)/((u-1)*(r+t)),i+=e[u]?Math.log(o)*e[u]:0;return-i}},x=function(e,t,a,n){return Math.exp(H(t+e-1))/(O(e)*Math.exp(H(t)))*Math.pow(a/(a+n),t)*Math.pow(n/(a+n),e)},E=function(e){for(var t=[],a=0;a<e.length;a++)t[e[a]]=t[e[a]]?t[e[a]]+1:1;return t},M=function(e,t,a,n,r){var o=[],i=Math.pow(t/(t+r),e);o[1]=i*a;for(var u=2;u<n;u++)i=i*r*(e+u-2)/((u-1)*(t+r)),o[u]=i*a;return o},j=function(e,t,a){if(e.length!=t.length)return null;for(var n=0,r=1;r<e.length&&e[r];)t[r]>0&&(n+=(e[r]-t[r])*(e[r]-t[r])/t[r]),r++;console.log("val "+n);for(var o=0,i=0,u=r+1-a;r<e.length;)o+=e[r]?e[r]:0,i+=t[r]?t[r]:0,r++;return o&&i&&(n+=(o-i)*(o-i)/i),{chisq:C(n,u),df:u}},C=function(e,t){if(!(t<=0)){var a=function(e,t){var a;a=e<=0?0:e<t+1?function(e,t){var a=Math.log,n=Math.exp,r=1/t,o=r,i=1;for(;r>1e-5*o;)o+=r=r*e/(t+i),i+=1;return o*=n(t*a(e)-e-H(t))}(e,t):function(e,t){var a=Math.log,n=Math.exp,r=Math.abs,o=0,i=1,u=1,l=e,c=0,s=0;for(;r((u-c)/u)>1e-5;)c=u,u=e*(o=u+((s+=1)-t)*o)+s*u,o/=l=e*(i=l+(s-t)*i)+s*l,i/=l,u/=l,l=1;return 1-n(t*a(e)-e-H(t))*u}(e,t);return a}(e/2,t/2);return 1-Math.round(1e5*a)/1e5}alert("Degrees of freedom must be positive")},O=function(e){return Math.exp(H(e+1))};function H(e){var t=Math.log,a=1+76.18009173/e-86.50532033/(e+1)+24.01409822/(e+2)-1.231739516/(e+3)+.00120858003/(e+4)-536382e-11/(e+5);return(e-.5)*t(e+4.5)-(e+4.5)+t(2.50662827465*a)}var k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={value:"Copy paste some text you wish to analyze!"},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.onFormSubmit(this.state.value),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("textarea",{style:{height:400,width:300},value:this.state.value,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(r.a.Component),S=a(1),q=function(e){if(e.data){var t=e.data,a=e.r,n=e.alpha,r=e.t,o=e.word_count;S.g(".histogram > *").remove();var i=10,u=30,l=30,c=40,s=460-c-u,d=400-i-l,h=S.g(".histogram").append("svg").attr("width",s+c+u).attr("height",d+i+l).append("g").attr("transform","translate("+c+","+i+")"),f=S.f().domain([1,10]).range([0,s]);h.append("g").attr("transform","translate(0,"+d+")").call(S.a(f));var m=S.c().value((function(e){return e})).domain(f.domain()).thresholds(f.ticks(10))(t),p=S.f().range([d,0]);p.domain([0,S.e(m,(function(e){return e.length}))]),h.append("g").call(S.b(p)),h.selectAll("rect").data(m).enter().append("rect").attr("x",1).attr("transform",(function(e){return"translate("+f(e.x0)+","+p(e.length)+")"})).attr("width",(function(e){return f(e.x1)-f(e.x0)-1})).attr("height",(function(e){return d-p(e.length)})).style("fill","#69b3a2");var g=function(e,t,a,n){return function(r){return n*x(r,e,t,a)}}(a,n,r,o);h.append("svg:path").attr("d",(function(e){return S.d()(f.ticks(100).map((function(e){return[f(e+.5),p(g(e))]})))})).style("stroke","red").style("fill","none")}},D=function(e){return Object(n.useEffect)((function(){q(e)}),[e.data?e.data.length:0]),r.a.createElement("div",{className:"histogram"})},_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).onFormSubmit=function(e){var t=function(e,t){var a=w(e),n=[];switch(t){case"length":n=function(e){return e.unigrams().map((function(e){return e.normal.length}))}(a);break;case"frequency":n=function(e){return e.unigrams().map((function(e){return e.count}))}(a)}var r=a.sentences().length,o=a.wordCount(),i=E(n),u=b.a.nelderMead(y(i,r),[.45,11.1],null),l=u.x[0],c=u.x[1],s=-u.fx,d=M(l,c,a.unigrams().length,i.length,r),h=j(i,d,2),f=h.chisq,m=h.df;return{r:l.toFixed(3),alpha:c.toFixed(3),ll:s.toFixed(3),data:n,t:r.toFixed(3),word_count:o,chisq:f.toFixed(3),df:m}}(e,"frequency");t&&(t.unique_words=t.data.length,a.setState((function(e){return{tableData:[t].concat(Object(u.a)(e.tableData))}}),a.setState({r:t.r,alpha:t.alpha,data:t.data,t:t.t,word_count:t.word_count,ll:t.ll})))},a.renderHist=function(){if(a.state.data&&a.state.r&&a.state.alpha&&a.state.word_count&&a.state.t)return r.a.createElement(D,{data:a.state.data,r:a.state.r,alpha:a.state.alpha,t:a.state.t,word_count:a.state.word_count})},a.state={tableData:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App",style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",padding:50}},r.a.createElement("h1",null,"Measuring Lexical Diversity using the NBD"),r.a.createElement("div",{style:{paddingLeft:100,paddingRight:100}},r.a.createElement("p",{style:{textAlign:"center",alignContent:"center",justifyContent:"center"}},'Lexical Diversity is a measure of an individual\'s vocabulary breadth, often measured by computing the ratio of unique words to total words. While more sophisticated measures have been proposed, such measures are generally scale dependent. By fitting an NBD model to a person\'s given text, we can evaluate the heterogeneity of the word uniqueness within the text and provide a better measure of LD. In general, a lower "r" score indicates more heterogeneity and thus greater vocabulary breadth, while a higher "r" indicates more homogeneity and less breadth.')),r.a.createElement(k,{onFormSubmit:this.onFormSubmit}),this.renderHist(),r.a.createElement("div",{style:F},r.a.createElement(L,{columns:B,data:this.state.tableData})))}}]),t}(r.a.Component),F={},B=[{Header:"Info",columns:[{Header:"r-score",accessor:"r"},{Header:"alpha",accessor:"alpha"},{Header:"t",accessor:"t"},{Header:"Log Likelihood",accessor:"ll"},{Header:"unique words",accessor:"unique_words"},{Header:"word count",accessor:"word_count"},{Header:"Chisq p-value",accessor:"chisq"},{Header:"degrees of freedom",accessor:"df"}]}];function L(e){var t=e.columns,a=e.data,n=Object(f.a)({columns:t,data:a}),o=n.getTableProps,i=n.getTableBodyProps,u=n.headerGroups,l=n.rows,c=n.prepareRow;return r.a.createElement("table",o(),r.a.createElement("thead",null,u.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),r.a.createElement("tbody",i(),l.map((function(e,t){return c(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))}))))}var P=_;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.f8529d57.chunk.js.map